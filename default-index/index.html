<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo_treeby.svg" color="#222">
  <link rel="manifest" href="/images/manifest.json">
  <meta name="msapplication-config" content="/images/browserconfig.xml">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link href="https://fonts.googleapis.com/css?family=Noto+Serif+SC|Roboto&display=swap" rel="stylesheet">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs | buttons","Available values":"disqus | changyan | disqus | disqusjs | gitalk | livere | valine","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="La vie est belle">
<meta property="og:type" content="website">
<meta property="og:title" content="Amusement Park">
<meta property="og:url" content="http://example.com/default-index/index.html">
<meta property="og:site_name" content="Amusement Park">
<meta property="og:description" content="La vie est belle">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Treeby">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/default-index/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Amusement Park</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Amusement Park</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Treeby's blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-github">

    <a href="https://github.com/satreeby" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>Github</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/04/26/Stable_Diffusion/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Treeby">
      <meta itemprop="description" content="La vie est belle">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amusement Park">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/04/26/Stable_Diffusion/" class="post-title-link" itemprop="url">Stable Diffusion</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-04-26 21:48:04 / Modified: 23:38:10" itemprop="dateCreated datePublished" datetime="2024-04-26T21:48:04+08:00">2024-04-26</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%B9%9D%E5%B0%BE%C2%B7%E4%BB%96%E5%B1%B1/" itemprop="url" rel="index"><span itemprop="name">九尾·他山</span></a>
                </span>
            </span>

          
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="关于"><a href="#关于" class="headerlink" title="关于"></a>关于</h2><p>本篇 blog 简要介绍 stable diffusion 相关知识以及在加速器上的 finetune deploy 实验。</p>
<h2 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h2><p>github: <a target="_blank" rel="noopener" href="https://github.com/CompVis/stable-diffusion">Stable Diffusion v1</a><br>论文地址：<a target="_blank" rel="noopener" href="https://openaccess.thecvf.com/content/CVPR2022/papers/Rombach_High-Resolution_Image_Synthesis_With_Latent_Diffusion_Models_CVPR_2022_paper">Rombach_High-Resolution_Image_Synthesis_With_Latent_Diffusion_Models</a></p>
<h3 id="github代码介绍"><a href="#github代码介绍" class="headerlink" title="github代码介绍"></a>github代码介绍</h3><p>先来看文件组织结构：</p>
<ul>
<li>LICENSE: 项目的许可证文件，说明了用户可以如何使用和分发该项目。</li>
<li>setup.py：对整个 project 进行打包，可以看成为下载了一个 python 库到本地，与 pip install 效果相同</li>
<li>Model_Card.md：模型的“技术规格说明书”，用于提供有关机器学习模型的详细信息，包括其性能、使用案例、潜在的偏差和限制等</li>
<li>README.md：项目的“欢迎手册”，提供了项目的全面概览和使用指南</li>
<li>main.py：Python 脚本，项目的入口点，可能包含设置、训练和评估机器学习模型的代码。例如可以使用 Pytorch.lightning 框架等<br><img src="/2024/04/26/Stable_Diffusion/1714145727161.png" alt="pytorch.lightning"></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/04/08/2024%E6%98%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Treeby">
      <meta itemprop="description" content="La vie est belle">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amusement Park">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/04/08/2024%E6%98%A5/" class="post-title-link" itemprop="url">2024春</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-04-08 18:22:33" itemprop="dateCreated datePublished" datetime="2024-04-08T18:22:33+08:00">2024-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-26 22:13:42" itemprop="dateModified" datetime="2024-04-26T22:13:42+08:00">2024-04-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%92%E9%B8%9F%C2%B7%E7%94%9F%E6%B4%BB/" itemprop="url" rel="index"><span itemprop="name">青鸟·生活</span></a>
                </span>
            </span>

          
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="section">2024.4.8</h2>
<p>新的一个学期，很忙，而且有很多不想上的课。前面几个星期都为了卓博的事情很苦恼，因为没有任何科研经历，机会渺茫，但是还是想着试试拿这每年5万块钱。在芯片院听了几次组会，对芯片专业也有了更深的了解。数字ic（ASIC）方面，感存算一体，chiplet，AI，三者结合，确实是主流的大方向了；又或者
AI 的软硬件协同 FPGA 设计，也是不错的方向；有几个星期也在犹豫要不要搞 AI
for
EDA，但后来想通了，感觉这个其实挺鸡肋的，虽然可以借此转算法，但不是个好选择，因为EDA实在并非自己所感兴趣的。不知道为什么，还是想要读博，芯片设计确实某种程度上吸引着我，设计芯片，也是在创造一件艺术品；当然了，写一手好代码，设计一个好的系统，尽管只是像上学期
DSA 的课程小 pj 一样，我觉得这同样也是一件艺术品。</p>
<p>这周是第七周，一堆作业还没做，集创赛进度也很缓慢，但我也要抽出一点时间，写下一些想法。下午和工研院做机器人的老师和学长聊了聊，虽然打算不做他们那边的项目了，但还是受益匪浅。关于目前具身智能的发展，主要是两点：（1）机器人要像人一样，主要是思考和理解。大模型赋予了机器人的新一场革命。目前做机器人，他们组基本都是做垂直领域，针对特定任务，基于大模型，做点创新。我感觉这对于创新创业项目来说，确实挺好，但如果对于科研来说，模型的缝合可能不是我想做的。PIE，即Process，Imagine，Execute，是交大一位老师对具身智能的定义。大模型给予了机器人理解能力，特别是多模态大模型。然而，直接调用大模型
API，反应时间是让人无法接受的，这也是瓶颈所在。这又回到了，模型轻量化（算法）与芯片支持（算力）上面。大模型落地机器人，或着往后机器人的发展，还是离不开芯片对算法的加速——专用计算。而关于理解部分，是因为机器人要理解复杂多变的环境（有点像自动驾驶，cv），要与人交互（nlp，多模态），这是机器人大脑算法的核心。（2）灵巧手，弹跳，等等，这些涉及了物理与算法，是另一个瓶颈，但我不是太感兴趣。而关于科研方面，和老师学长也聊了聊，感受最深的两点：（1）师傅领进门，修行靠个人。想出idea是最难的，想清楚哪个方向，创新点有哪些，能不能完成，跟SOTA比怎么样。想要在算法、模型上有所建树，还是得多读论文，有扎深的数学功底。（2）可以针对特定任务，针对特定场景、垂直领域，简单的缝补，是挺水的。</p>
<p>不要急于做项目了，降低点期待，能直博就行。越来越卷的环境下，还是得读博。定个小目标：直博芯片院，大四发一篇算法类的顶会，博士专心搞芯片，然后发i。已经开始笑了。</p>
<h2 id="section-1">2024.4.15</h2>
<p>这些天来还是在思考ai or
ic？有时候在想，当时究竟选对专业了吗？大一分流选择是否该选择cs？假如当时选了cs，我可能又会想是不是该选微电子。</p>
<p>人总是美化未被选择的另一条道路。</p>
<p>刚刚实在不想学了，回头审视了一下，高考出分后，选择复旦技科是否正确。往事不堪回首，总是对679的高考分数感到遗憾，对数学14题圆锥曲线感到遗憾，还有化学2分同分异构。7分可能真的能改变很多，学校、专业，肯定都不一样，不过最终是好是坏，也无从得知。还是基于679的分数，297的排名，来看看吧。（还挺有意思的，分数和排名最后两位数刚好对称）</p>
<p>首先是我旦 <img src="/2024/04/08/2024%E6%98%A5/1713175743751.png" alt="1713175743751">
数学填空题不看错就能去工试了，就不用卷了qaq，不过679就只能是技科了。
然后看看交和浙，去交浙的话肯定学cs了，但是分数不够也去不了，大类的话不如还是旦
<img src="/2024/04/08/2024%E6%98%A5/1713176018016.png" alt="1713176018016"> <img src="/2024/04/08/2024%E6%98%A5/1713176078888.png" alt="1713176078888">
南大和中科大，虽然ai确实也挺强，但是始终有个地理位置的劣势，并且总感觉校风与我不太match
最后是人大，人大的高瓴人工智能学院确实也还挺不错的，但它的人工智能也是大类，收到673分，如果报这个志愿感觉有点浪费分数
<img src="/2024/04/08/2024%E6%98%A5/1713176218209.png" alt="1713176218209">
综上所述，不打算出国的话，来旦或去交。如果分数高一点，可能就去交了；但在这个分数下，来旦已是最好的选择。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/15/Designing_DNN_Accelerators/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Treeby">
      <meta itemprop="description" content="La vie est belle">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amusement Park">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/11/15/Designing_DNN_Accelerators/" class="post-title-link" itemprop="url">Designing_DNN_Accelerators</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-11-15 19:44:54" itemprop="dateCreated datePublished" datetime="2023-11-15T19:44:54+08:00">2023-11-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-26 22:09:25" itemprop="dateModified" datetime="2024-04-26T22:09:25+08:00">2024-04-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%B9%9D%E5%B0%BE%C2%B7%E4%BB%96%E5%B1%B1/" itemprop="url" rel="index"><span itemprop="name">九尾·他山</span></a>
                </span>
            </span>

          
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>credit to 《Eﬃcient Processing of Deep Neural Networks》</p>
</blockquote>
<h2 id="about-this-paragraph">about this paragraph</h2>
<p>介绍基本的DNN加速器设计的数据流，主要是对《Eﬃcient Processing of Deep
Neural Networks》做的笔记总结</p>
<h2 id="key-metrics">Key Metrics</h2>
<ul>
<li><p><strong>Energy consumption</strong></p>
<ol type="1">
<li>减少数据的移动(data movement)</li>
<li>减少移动单位数据的代价</li>
</ol></li>
<li><p><strong>Performance in terms of throughput and
latency</strong></p>
<ol type="1">
<li>增加并行度(parallel)</li>
<li>减少PE空闲周期数</li>
</ol></li>
<li><p><strong>Area</strong></p></li>
</ul>
<h2 id="key-properties-of-dnn-to-leverage">Key Properties of DNN to
Leverage</h2>
<p><strong><em>Data reuse</em></strong></p>
<ul>
<li><strong>Input feature map reuse</strong>
不同的滤波器(M)，相同的输入</li>
<li><strong>Filter reuse</strong> 同一个滤波器，不同样本(N)的输入</li>
<li><strong>Convolutional reuse</strong>
<ol type="1">
<li>每个filter的每个weight，复用 <span class="math inline">\(P\times
Q\)</span> 次，产生 <span class="math inline">\(P\times Q\)</span> 个
output 像素点</li>
<li>若步长 U=1，则每个 input 的像素，一般会与 <span class="math inline">\(R\times S\)</span> 个filter weight相乘，得到的
psum 属于不同的 output 像素</li>
</ol></li>
<li><strong>Movement of Partial Sums</strong> 得到一个输出的像素点，有
<span class="math inline">\(C \times R \times S\)</span> 个 psum 需要被
accumulated</li>
</ul>
<h2 id="dnn-hardware-design-consideratuions">DNN hardware design
Consideratuions</h2>
<p>设计一个 DNN 加速器，大致需要以下步骤：</p>
<ul>
<li><strong>At design time</strong>
<ol type="1">
<li>dataflow(s)</li>
<li>PE(process element)的数量，以及每个PE执行的MAC数量</li>
<li>the memory
hierarchy，包括存储的级数(levels)，以及每一级的容量(capicity)</li>
<li>the allowed pattern of NoC(Network on-chip)</li>
</ol></li>
<li><strong>At mapping time</strong> 将 DNN
网络有效的映射到硬件加速器上</li>
<li><strong>At configuration time</strong></li>
<li><strong>At run time</strong></li>
</ul>
<h2 id="data-reuse">Data reuse</h2>
<ul>
<li><strong>Temporal reuse</strong></li>
</ul>
<blockquote>
<ul>
<li><strong><em>Temporal reuse occurs when the same data value is used
more than once by the same consumer</em></strong></li>
<li>It can be exploited by adding an intermediate memory level to the
memory hierarchy of the hardware, where the intermediate memory level
has a smaller storage capacity than the level that acts as the original
source of the data</li>
<li>For exploiting temporal reuse, the reuse distance is defined as the
number of data accesses required by the consumer in between the accesses
to the same data value, which is a function of the ordering of
operations.</li>
</ul>
</blockquote>
<p>比如，以下1-D卷积，filter weight
的存储有两级，L0存放着所有权重，L1仅能存放数量为一的权重，如(d)，则两种不同的计算顺序(order)，其
weight reuse distance 也不同，(output reuse distance 也不同)。 <img src="/2023/11/15/Designing_DNN_Accelerators/1700057619410.png" alt="任我行"></p>
<p>因此，重要的是，<strong>reuse distance, 即 the processing
order</strong></p>
<ul>
<li><strong>Spatial reuse</strong></li>
</ul>
<blockquote>
<ul>
<li><strong><em>Spatial reuse occurs when the same data value is used by
more than one consumer (e.g., a group ofPEs) at different spatial
locations ofthe hardware.</em></strong></li>
<li>It can be exploited by reading the data once fromthe source memory
level andmulticasting it to all ofthe consumers.</li>
<li>For exploiting spatial reuse, the reuse distance is defined as the
maximum number of data accesses in between any pair ofconsumers that
access the same data value, which is again a function of the ordering of
operations.</li>
</ul>
</blockquote>
<p>比如，以下1-D卷积，有数量为4的 consumers(PE)，可用于同时计算 MAC，
<img src="/2023/11/15/Designing_DNN_Accelerators/1700058040471.png" alt="任我行"></p>
<p>因此，重要的是，<strong>reuse distance, 即 the designs of
parallel</strong></p>
<p>同时需要注意，spatial reuse 需要 Noc 来支持，与 Memory 的层级和带宽
(bandwidth) 都有关系。</p>
<ul>
<li><p>data reuse 设计关键点</p>
<ol type="1">
<li>Process order</li>
<li>Parallel computation</li>
<li>Data tiling</li>
<li>同时考虑 bandwidth, Memory hierarchy 等</li>
</ol></li>
<li><p>算法(Algorithm)描述</p></li>
</ul>
<blockquote>
<ul>
<li>loop nests</li>
<li>WS, IS, OS</li>
<li><strong><em>for</em></strong></li>
</ul>
</blockquote>
<p>比如，使用伪代码描述下面一个1-D卷积，循环越靠近外层，说明其静态性(stationary)越高，
<img src="/2023/11/15/Designing_DNN_Accelerators/1700058946892.png" alt="任我行">
<img src="/2023/11/15/Designing_DNN_Accelerators/1700059062834.png" alt="任我行">
以图 (a) 的 WS 为例，完成本次卷积所有操作的 0-35 次 cycle 里面，追踪每次
cycle 用到的数据的索引 (Index) 如下图： <img src="/2023/11/15/Designing_DNN_Accelerators/1700059237627.png" alt="任我行"></p>
<blockquote>
<p><strong><em>parallel-for</em></strong></p>
</blockquote>
<p>比如，对上述的 <strong>WS</strong> 加入对 <strong>权重</strong>
的并行设计，即将权重的循环更进行的划分(Tiling)： <img src="/2023/11/15/Designing_DNN_Accelerators/1700059779411.png" alt="任我行">
每次执行的状况如下： <img src="/2023/11/15/Designing_DNN_Accelerators/1700059801549.png" alt="任我行">
可将之与无并行进行对比。 设计并行时，既要考虑 PE 数量，又要考虑 Memory
的容量与带宽，还要考虑划分是否整除，等等。</p>
<blockquote>
<p>A dataflow only defines the following aspects of a loop nest: (1) the
specific order of the loops to prioritize the data types; (2) the number
of loops for each data dimension to describe the tiling; and (3) whether
each of the loops is temporal (for) or spatial (parallel-for).</p>
</blockquote>
<h2 id="dataflow-taxonomy">Dataflow Taxonomy</h2>
<h3 id="weight-stationaryws">Weight Stationary(WS)</h3>
<blockquote>
<ul>
<li>The weight-stationary dataflow is designed to minimize the energy
consumption of reading weights by maximizing the reuse ofweights from
the register file (RF) at each PE</li>
<li>The processing runs as manyMACs that use the same weight as possible
while the weight is present in the RF</li>
<li>The inputs and partial sums must move through the spatial array and
global buffer. The input feature map activations are broadcast to all
PEs and then the partial sums are spatially accumulated across the PE
array.</li>
</ul>
</blockquote>
<figure>
<img src="/2023/11/15/Designing_DNN_Accelerators/1700062976339.png" alt="任我行">
<figcaption aria-hidden="true">任我行</figcaption>
</figure>
<p>比如，nn-X (also called neuFlow)，它有：</p>
<ul>
<li>8 个 2-D CONV engines</li>
<li>每个 engine 有 100 个 PE（因此可以实现最多<span class="math inline">\(10 \times 10\)</span>的卷积）</li>
<li>weight 在每个 PE 里保持静态不变</li>
<li>input 广播(broadcast) 至每个 PE 中</li>
<li>由于每次(cycle)所广播的只有一个 input
像素，为保证时序正确性，需要添加寄存器以控制 psum 的相加</li>
</ul>
<figure>
<img src="/2023/11/15/Designing_DNN_Accelerators/1700063409653.png" alt="任我行">
<figcaption aria-hidden="true">任我行</figcaption>
</figure>
<p>再比如，Nvidia’s Deep Learning Accelerator
(NVDLA)，与前面不同的是，psum 是一列列相加（不同列不同的 filter
，每一行则对应不同的 input(and filter) channel <img src="/2023/11/15/Designing_DNN_Accelerators/1700063949353.png" alt="任我行">
其算法如下： <img src="/2023/11/15/Designing_DNN_Accelerators/1700064715944.png" alt="任我行"></p>
<h3 id="output-stationaryos">Output Stationary(OS)</h3>
<blockquote>
<ul>
<li>The output-stationary dataflow is designed to minimize the energy
consumption of reading and writing the partial sums.</li>
<li>In order to keep the accumulation of partial sums stationary in the
RF, one common implementation is to stream the input activations across
the PE array and broadcast the weights to all PEs in the array from the
global buffer.</li>
</ul>
</blockquote>
<figure>
<img src="/2023/11/15/Designing_DNN_Accelerators/1700065902277.png" alt="任我行">
<figcaption aria-hidden="true">任我行</figcaption>
</figure>
<p>可以选择不同的 output 像素保持 stationary <img src="/2023/11/15/Designing_DNN_Accelerators/1700065547456.png" alt="任我行"></p>
<p>未完待续。。。</p>
<h3 id="input-stationaryis">Input Stationary(IS)</h3>
<blockquote>
<ul>
<li>Similar to the previous two dataflows, the input-stationary dataflow
is designed to minimize the energy consumption ofreading input
activations.</li>
<li>With minimized reuse distance, each input activation is read from
DRAM and put into the RF ofeach PE and stays stationary for further
access. Then, it runs through as many MACs as possible in the PE to
reuse the same input activation.</li>
<li>While each input activation stays stationary in the RF, unique
filter weights are uni-cast into the PEs at each cycle, while the
partial sums are spatially accumulated across the PEs to generate the
final output activation.</li>
</ul>
</blockquote>
<figure>
<img src="/2023/11/15/Designing_DNN_Accelerators/1700124708788.png" alt="任我行">
<figcaption aria-hidden="true">任我行</figcaption>
</figure>
<p>未完待续。。。</p>
<h3 id="row-stationaryrs">Row Stationary(RS)</h3>
<p>A row-stationary dataflow is proposed in <em>Eyeriss</em>, which aims
to maximize the reuse and accumulation at the RF level for all types of
data (weights, input activations, and partial sums) for the overall
energy efficiency.</p>
<ul>
<li><strong>1-D CONV</strong>：</li>
</ul>
<blockquote>
<p>weight stationary inside the RF streams the activations into PE
比如下面 S=3，W=5，U=1 的卷积，得到 F=3 的 output，需要三个 step <img src="/2023/11/15/Designing_DNN_Accelerators/1700134333058.png" alt="任我行"><img src="/2023/11/15/Designing_DNN_Accelerators/1700134346761.png" alt="1700134346761"><img src="/2023/11/15/Designing_DNN_Accelerators/1700134358771.png" alt="1700134358771"> 值得注意的是，filter 与 input 流进 PE 与 output
流出，都应使用 FIFO 进行正确的时序控制</p>
</blockquote>
<ul>
<li><strong>2-D CONV</strong>：</li>
</ul>
<blockquote>
<p>由 多个 1-D 卷积组成， 比如下面 R=3, S=3, H=5, W=5, U=1 的卷积，得到
E=3, F=3 的 output <img src="/2023/11/15/Designing_DNN_Accelerators/1700135701893.png" alt="任我行"></p>
</blockquote>
<hr>
<blockquote>
<ol type="1">
<li>在这个例子中，每一行 output 的产生，仍然需要 3 个 steps</li>
<li>而每一个 step 所产生的一个 output 像素点，都需要 3 row 的 1-D
卷积同时进行，然后将对应的 psum 相加(accumulated) 得到</li>
<li>得到所有行的 output 需要进行 3 次上述的操作</li>
<li><strong>由上述例子可得：每一 Row 的 filter weights 在同一 Row 的 PE
上复用；每一 ROW 的 inputs 则按 相同的 diagnal 复用； 每一 col 的 PE
得到的 psum 要进行相加</strong></li>
</ol>
</blockquote>
<ul>
<li><strong>Higher-dimensional CONV</strong>:</li>
</ul>
<blockquote>
<p><strong>N, M, C</strong>三个维度 <strong>Interleaving</strong> or
<strong>concatenating</strong> 有下面三种复用：(a) filter reuse of
multiple (<strong>N</strong>) input (b) input reuse of multiple
(<strong>M</strong>) filters (c) output reuse of multiple filter weights
and inputs (<strong>C</strong>) <img src="/2023/11/15/Designing_DNN_Accelerators/1700136845875.png" alt="任我行">
对应的techniques可以是：(a) concatenating (b) interleaving (c)
interleaving <img src="/2023/11/15/Designing_DNN_Accelerators/1700136924461.png" alt="任我行"> 存在问题：PE 阵列的大小是 fixed 的，应如何将不同 shape
的 DNN layer 映射呢？两大techniques：(a) replication (b) folding <img src="/2023/11/15/Designing_DNN_Accelerators/1700137378744.png" alt="任我行">
总的思想是：提高 PE 的利用率 注意：不使用的 PE 应关上使其耗能减少。</p>
</blockquote>
<ul>
<li><strong>硬件结构支持</strong></li>
</ul>
<ol type="1">
<li>PE array</li>
<li>Mapping and Configure</li>
<li>Noc</li>
<li>Memory hierarchy</li>
</ol>
<h3 id="other-stationary">Other Stationary</h3>
<blockquote>
<ul>
<li>Since the stationariness of a dataflow is only relative to a
specific level of memory hierarchy, different stationariness can be used
at each level of the memory hierarchy.</li>
<li>From the perspective ofa loop nest, it involves tiling the various
data types into multiple levels and then reordering the loops at
different levels to prioritize different data types.</li>
<li>For example, ifthere are K levels ofmemory hierarchy, both dimension
Q and S in the loop nest ofFigure 5.8a can be further divided up into K
loops (i.e., for the open ranges [Q0, QK) and [S0 to SK) ) and then
reordering the loops independently from loop level 0 to level K -
1.</li>
<li><strong>This also implies that smaller DNN accelerator designs can
be further combined together with a new level ofmemory to form a larger
accelerator.</strong></li>
<li><strong>The key to these designs is to propose flexible NoCs and
support various memory access patterns in order to execute different
dataflows that have different numbers ofloop levels and loop ordering in
the loop nest</strong></li>
<li>上面的讨论基于一个layer无法在PE中一次就计算完成，然而，若layer足够小，或PE足够大，还需讨论<strong>跨层处理、流水线</strong>等技术</li>
</ul>
</blockquote>
<h2 id="dnn-accelerator-buffer-management-strategies">DNN Accelerator
Buffer Management Strategies</h2>
<p>可大致分为四种结构：</p>
<ul>
<li>implicit/explicit（隐式/显式）:
指的是利用工作负载知识来控制数据缓冲决策的程度</li>
<li>coupled/decoupled（耦合/解耦）:
指的是内存响应和请求是往返的(请求-响应)还是前向的(数据自动推送给使用者)
<img src="/2023/11/15/Designing_DNN_Accelerators/1700150870447.png" alt="好"></li>
</ul>
<h3 id="eddoexplicit-decoupled-data-orchestration">EDDO(Explicit
Decoupled Data Orchestration)</h3>
<p><strong><em>buffet</em></strong></p>
<ul>
<li><em>FIFO</em></li>
<li>fill: from an <em>NoC</em> link into the <em>tail</em></li>
<li>read: <em>read command</em> + <em>read address</em>(offset of
<em>head</em>)</li>
<li>update: <em>read + update command</em> + <em>update
address</em></li>
<li>shrink: removes a given number ofvalues from the head of the buffet
by adjusting the head pointer <img src="/2023/11/15/Designing_DNN_Accelerators/1700190658621.png" alt="1700190658621"></li>
</ul>
<p>比如，实现一维卷积时，读入 input
数据的序列为：0，1，2；1，2，3；2，3，4…… 而 psum
的读入并更新的序列应对应为：0，0，0；1，1，1；2，2，2…… <img src="/2023/11/15/Designing_DNN_Accelerators/1700191310508.png" alt="1700191310508"></p>
<h2 id="flexible-noc-design">Flexible Noc design</h2>
<p>要考虑的是：</p>
<blockquote>
<ol type="1">
<li>support processing with high parallelism by efficiently delivering
data between storage and datapaths; (2) exploit data reuse to reduce the
bandwidth requirement and improve energy efficiency; and (3) can be
scaled at a reasonable implementation cost.</li>
</ol>
</blockquote>
<figure>
<img src="/2023/11/15/Designing_DNN_Accelerators/1700192611144.png" alt="1700192611144">
<figcaption aria-hidden="true">1700192611144</figcaption>
</figure>
<p>比如： <img src="/2023/11/15/Designing_DNN_Accelerators/1700195392726.png" alt="1700195392726"></p>
<ul>
<li>每一 row 的 weight 来自不同的 filter (M)，同一 row 中的 weight
来自不同的 channel(C)，stationary</li>
<li>每一 col 的 input 来自不同的 channel(C)</li>
<li>同一 row 的 psum 相加后在传输到 psum buffer</li>
<li>input activations (iacts) are reused vertically and partial sums
(psums) are accumulated horizontally</li>
</ul>
<figure>
<img src="/2023/11/15/Designing_DNN_Accelerators/1700195681895.png" alt="1700195681895">
<figcaption aria-hidden="true">1700195681895</figcaption>
</figure>
<ul>
<li>每一 row 的 weight 来自不同的 filter (M) 或者 同一 filter
但不同的位置</li>
<li>每一 col 的 input 都不同空间位置 (H, W)</li>
<li>input activations (iacts) are reused vertically and weights are
reused horizontally</li>
</ul>
<p>三种通信方式的优缺点： <img src="/2023/11/15/Designing_DNN_Accelerators/1700197338646.png" alt="1700197338646"></p>
<blockquote>
<p><strong>Hierarchical Mesh Network</strong></p>
</blockquote>
<p>hierarchical mesh network(HM-NoC) <img src="/2023/11/15/Designing_DNN_Accelerators/1700305038591.png" alt="1700305038591"></p>
<ul>
<li>2 levels</li>
<li>4 modes</li>
</ul>
<p>例子： <img src="/2023/11/15/Designing_DNN_Accelerators/1700305564774.png" alt="1700305564774"></p>
<figure>
<img src="/2023/11/15/Designing_DNN_Accelerators/1700305697758.png" alt="1700305697758">
<figcaption aria-hidden="true">1700305697758</figcaption>
</figure>
<h2 id="mapping">mapping</h2>
<p>In the processing ofDNNs, the mapper translates the desired DNN layer
computation (i.e., problem specification) along with its shape and size4
into a hardware- compatible mapping for execution. <img src="/2023/11/15/Designing_DNN_Accelerators/1700305982329.png" alt="1700305982329"></p>
<p>类比cpu： <img src="/2023/11/15/Designing_DNN_Accelerators/1700306005539.png" alt="1700306005539"></p>
<p>mapper 框图： <img src="/2023/11/15/Designing_DNN_Accelerators/1700306053391.png" alt="1700306053391"></p>
<p>根据 Problem Spec/Shape 以及约束 Dataflow(s)/Constraints 在解集
mapper space 里面搜索出最优解，然后对 DNN Accelerator 进行配置</p>
<p>映射的算法可以用 loop nest 来表示，比如 <img src="/2023/11/15/Designing_DNN_Accelerators/1700306283046.png" alt="1700306283046"><img src="/2023/11/15/Designing_DNN_Accelerators/1700306290812.png" alt="1700306290812"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/15/2023%E7%A7%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Treeby">
      <meta itemprop="description" content="La vie est belle">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amusement Park">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/11/15/2023%E7%A7%8B/" class="post-title-link" itemprop="url">2023秋</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-11-15 00:45:54" itemprop="dateCreated datePublished" datetime="2023-11-15T00:45:54+08:00">2023-11-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-26 22:10:31" itemprop="dateModified" datetime="2024-04-26T22:10:31+08:00">2024-04-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%92%E9%B8%9F%C2%B7%E7%94%9F%E6%B4%BB/" itemprop="url" rel="index"><span itemprop="name">青鸟·生活</span></a>
                </span>
            </span>

          
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="section">2023.11.15</h2>
<p>开学十一个星期了，感觉自己过得一塌糊涂。
本以为，是以三天数模奋战开始的斗志昂扬的一个学期，结果省三的屑成绩再次证明了自己真的是屑。我是多么期盼，果酱名单上有我们队伍的名字，并写着三个成员均来自二中，但那终究只存在于梦里。</p>
<p>科研，也是一样。虽说进了所谓的实验室，但是，0项目，0论文，我也不知道在做些啥，现在还在看eyeriss论文和Eﬃcient
Processing of Deep Neural Networks一书。</p>
<p>绩点，上学期3.78/4.0，这学期感觉还会往下掉，半器、dsp全靠看网课自学，数集抓不住重点，感觉都是重点，也不知道是不是重点，数据结构似乎学的还可以。通识课被卷死了，经济学原理还没怎么看书。</p>
<p>绩点、竞赛、科研，唉，真的一塌糊涂。每次我这样想，我也经常这样想，压力、焦虑……我只是想，明年这个时候，有书读而已。常常想，微电子科学与工程，这个专业，究竟选对了没？虽然，这个问题，可能没有答案。但是，这学期来，我已经因为这些，几次感觉到压抑并且喘不过气来。我不知道会不会是抑郁，但如果没有二中的朋友和音乐，我感觉我真的没法活。</p>
<figure>
<img src="/2023/11/15/2023%E7%A7%8B/1699979698443.png" alt="焦焦焦">
<figcaption aria-hidden="true">焦焦焦</figcaption>
</figure>
<p>还有这段时间，又为感情的琐事纠缠了很久，当然，缘由我起，现在黯然落幕了，也说不了什么。</p>
<figure>
<img src="/2023/11/15/2023%E7%A7%8B/1699979406940.png" alt="true friends or tree hole？">
<figcaption aria-hidden="true">true friends or tree hole？</figcaption>
</figure>
<blockquote>
<p>即使一生多出一根刺 没有刺痛别要知 就当共你有剧情没有故事</p>
</blockquote>
<p><strong><em>像你没来过没去过~</em></strong></p>
<p>迷茫的树安，现在只能选择继续相信，彼方尚有荣光在。这学期还剩不到两个月，得振作起来了，学业最重要！！！</p>
<p><strong>提前祝我亲爱的二中，93周年生日快乐！</strong></p>
<figure>
<img src="/2023/11/15/2023%E7%A7%8B/1699980268904.png" alt="二中！我的二中！">
<figcaption aria-hidden="true">二中！我的二中！</figcaption>
</figure>
<p><strong>今晚梦里，必归去兮！</strong></p>
<h2 id="section-1">2023.12.18</h2>
<p>又自己一个人去唱k了。。。没想到还拉扯到昨天，可能是最后一次一起自习吃饭了，因为确实感觉到心更远了。</p>
<p>但是人与人的感情就是会突然变淡，不是么？ <img src="/2023/11/15/2023%E7%A7%8B/1702913142869.png" alt="1702913142869"></p>
<p>还有一个星期考试了，希望能赶紧恢复状态。
感谢zr和jl听我发癫，兄弟才是永远的！</p>
<p><code>ls -a</code></p>
<blockquote>
<p>想讲句一切算了你听不到又怎算 想失也无可失这刻 我也曾赚了温暖
——《尘埃落定》</p>
</blockquote>
<p>祝十天后的树安生日快乐！</p>
<h2 id="section-2">2024.2.20</h2>
<p>2023年秋季在一个多月前就早已结束了，千言万语心中，今天终于有空诉说。
这个学期，评价是如梦如幻。学不懂的半器，写不完的数据结构代码，全靠网课的DSP，还有摸不透的数集……我已经不记得，究竟有没有试过在十二点半前睡着觉。最开心的时光，或许是在和夜宵F4或沈老师在commune畅谈，亦或许是每晚凌晨1点独自从三教走回南区，与春秋为伴。</p>
<p>焦虑，或许能概括我整个星期的精神状态：焦虑有没有书读，焦虑能不能跟到好的导师，选到好方向，焦虑读博还是读硕，读硕能不能有学硕……还有fucking情感生活，自己还是那么幼稚。
瞎忙活了一个学期，最终绩点不尽人意，但还好排名掉的不是很多。</p>
<p>学期结束去了上海 AI Lab
实习了，邵老师和学长都挺好，学到了很多的东西。vta
仿真虽然最终没跑出来一个，但确实已经尽力了，首先把方案修改成目测可行，然后环境版本问题也无可奈何，并且还总结了许多神经网络模型和算子维度，下学期还做不做再看吧！集创赛并没有想象的那么简单，数据不够，如何抽象表示特征，等等，都是问题。</p>
<p>整个寒假，除了在玩，还学了点ai基本功。从mlp到cnn，从transformer到llm；而春节期间
Sora
的登场更是炸裂；软件确实是比硬件迭代的更快，机会更多；我总是在想，微电子这个专业，是不是选错了。但想了想，就算当初选择了
cs，也是更加的卷，自己真的能生存下来吗？ai芯片很卷，ai更卷。英伟达垄断了芯片，OpenAI，Google，Meta，Amazon等美国科技巨头在
ai
圈更是遥遥领先。无论哪个行业，强的都是大厂，初创公司的生存问题，在任何赛道都是同样的。软件是轻资产，硬件是重资产，芯片设计是较轻的重资产。重资产创业难，风险大，但获利也更多。AGI
时代，肯定是需要算力的支持，英伟达已经成为云端的霸主，但边缘侧和终端还能有较大的发展，并且现在的算力应该也是不够的，不然
Altman
也不会打算豪掷7亿解决算力问题。无论算法如何，最终实现的也是硬件，离不开硅基生命。</p>
<p>汪玉老师是真牛逼！强推：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Cw411F7xz/?spm_id_from=333.1007.top_right_bar_window_default_collection.content.click">【争鸣讲坛03】面向下一代人工智能的高能效电路与系统——机遇与挑战（清华大学汪玉教授）_哔哩哔哩_bilibili</a></p>
<p>新学期，新气象。许个愿吧：希望卓博顺利，然后学术上的研究真能为人类文明进步发挥出一丁点价值！当然还期待解锁新角色！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/09/AI_and_ML_Accelerator_Research/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Treeby">
      <meta itemprop="description" content="La vie est belle">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amusement Park">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/09/AI_and_ML_Accelerator_Research/" class="post-title-link" itemprop="url">AI_and_ML_Accelerator_Research</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-10-09 02:43:04" itemprop="dateCreated datePublished" datetime="2023-10-09T02:43:04+08:00">2023-10-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-26 22:09:32" itemprop="dateModified" datetime="2024-04-26T22:09:32+08:00">2024-04-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%B9%9D%E5%B0%BE%C2%B7%E4%BB%96%E5%B1%B1/" itemprop="url" rel="index"><span itemprop="name">九尾·他山</span></a>
                </span>
            </span>

          
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><strong>credit to</strong>
《人工智能芯片技术白皮书2018，清华大学》《AI
芯片前沿技术与创新未来，张臣雄》
《2022亿库关于中国ai芯片行业的调研》</p>
</blockquote>
<p><strong><em>当英伟达成为全球首家市值超过1万亿美元芯片公司时，便意味着AI芯片的的热潮前所未有地席卷各行各业，成为人工智能时代的最重要的物理基石——无芯片，不
AI</em></strong></p>
<h2 id="什么是-ai-芯片">什么是 AI 芯片？</h2>
<p><strong>定义</strong>：从广义上讲只要能够运行人工智能算法的芯片都叫作
AI 芯片。但是通常意义上的 AI
芯片指的是针对人工智能算法做了特殊加速设计的芯片，现阶段，这些人工智能算法一般以深度学习算法为主
(比如包括 DNN, CNN, RNN, LSTM, GAN, Transformer)</p>
<ul>
<li>研究如何设计出高效的硬件友好型的智能算法</li>
<li>研究如何将这些算法有效可靠地在芯片上实现</li>
</ul>
<p><strong>AI
芯片本身处于整个链条的中部，向上为应用和算法提供高效支持，向下对器件和电路、工艺和材料提出需求。</strong></p>
<figure>
<img src="/2023/10/09/AI_and_ML_Accelerator_Research/1696787293538.png" alt="Fig1">
<figcaption aria-hidden="true">Fig1</figcaption>
</figure>
<h2 id="ai-芯片的种类">AI 芯片的种类</h2>
<h3 id="按类型">按类型</h3>
<ol type="1">
<li><p><strong>经过软硬件优化可以高效支持 AI 应用的通用芯片</strong></p>
<ul>
<li><p><strong>GPU</strong></p>
<p>GPU是单指令、多数据处理，采用数量众多的计算单元和超长的流水线，主要处理图像领域的运算加速。GPU是不能单独使用的，它只是处理大数据计算时的能手，必须由CPU进行调用，下达指令才能工作。为此开发的专用编程系统CUDA，能够帮助工程师们运行数万个并发线程和数百个处理器核。
<strong>高度并行计算，软硬件协同</strong> <img src="/2023/10/09/AI_and_ML_Accelerator_Research/1698144036046.png" alt="1698144036046"></p></li>
<li><p><strong>TPU, NPU</strong></p></li>
</ul></li>
<li><p><strong>侧重加速机器学习（尤其是神经网络、深度学习）算法的芯片</strong></p>
<ul>
<li><p><strong>FPGA</strong></p>
<p>可编程逻辑门阵列，是一种“可重构”芯片，具有模块化和规则化的架构，主要包含可编程逻辑模块、片上储存器及用于连接逻辑模块的可重构互连层次结构。</p></li>
<li><p><strong>ASIC</strong></p>
<p>特定用户要求和特定电子系统的需要而设计、制造的集成电路。</p></li>
<li><p><strong>两者对比</strong>
FPGA具有开发周期短，上市速度快，可配置性等特点，目前被大量的应用在大型企业的线上数据处理中心和军工单位。ASIC一次性成本远远高于FPGA，但由于其量产成本低，应用上就偏向于消费电子，如移动终端等领域。
<img src="/2023/10/09/AI_and_ML_Accelerator_Research/1698144099559.png" alt="1698144099559"> <img src="/2023/10/09/AI_and_ML_Accelerator_Research/1698144177110.png" alt="1698144177110"></p></li>
</ul></li>
<li><p><strong>受生物脑启发设计的神经形态计算芯片</strong></p>
<ul>
<li><p><strong>类脑芯片</strong></p>
<p>类脑芯片架构是一款模拟人脑的神经网络模型的新型芯片编程架构，这一系统可以模拟人脑功能进行感知方式、行为方式和思维方式，使用的是脉冲神经网络(SNN)。如，清华大学天机系列芯片。
<img src="/2023/10/09/AI_and_ML_Accelerator_Research/1698144682568.png" alt="1698144682568"></p></li>
</ul></li>
</ol>
<h3 id="按功能分类">按功能分类</h3>
<p>根据机器学习算法步骤，可分为训练和推断两个环节：</p>
<ul>
<li><p><strong>训练 (Training)</strong></p>
<p>训练环节通常需要通过大量的数据输入，训练出一个复杂的深度神经网络模型。训练过程由于涉及海量的训练数据和复杂的深度神经网络结构，运算量巨大，需要庞大的计算规模。训练要求<strong>高精度、高吞吐量、强大的算力</strong>。目前市场上通常使用英伟达的GPU集群，Google的
TPU 来训练。</p></li>
<li><p><strong>推断 (Inference)</strong></p>
<p>推断环节是指利用训练好的模型，使用新的数据去“推断”出各种结论。这个环节的计算量相对训练环节少很多，但仍然会涉及到大量的矩阵运算。因此，对于众多应用场景来说，<strong>速度、能效、安全和硬件成本</strong>是考虑的因素。</p></li>
<li><p><strong>趋势</strong></p>
<p>在未来的 AI
应用当中，训练（学习）和推断在更多场景下会是交织在一起的。
推断放在边缘侧，更低延时，更安全隐私</p></li>
</ul>
<h3 id="按-ai-部署的位置">按 AI 部署的位置</h3>
<figure>
<img src="/2023/10/09/AI_and_ML_Accelerator_Research/1696788206981.png" alt="Fig2">
<figcaption aria-hidden="true">Fig2</figcaption>
</figure>
<ul>
<li><p><strong>云端</strong></p>
<p>云端是指在数据中心或超级计算机，利用海量的数据和庞大而复杂的深度学习算法进行模型训练，也能用作推理。</p></li>
<li><p><strong>边缘侧</strong></p>
<p>数据中心外的设备，如自动驾驶汽车、机器人、智能手机、物联网设备等，一般用训练好的模型进行推理。</p></li>
<li><p><strong>趋势</strong></p>
<p>云的边界也
逐渐向数据的源头推进，未来很可能在传统的终端设备和云端设备直接出现更多的边缘设备，把
AI
处理分布在各种网络设备（比如5G的基站）中，让数据尽量实现本地处理，这样更低延时，更安全隐私。</p></li>
</ul>
<h2 id="ai-芯片的技术挑战">AI 芯片的技术挑战</h2>
<ul>
<li><strong>冯·诺依曼瓶颈</strong></li>
</ul>
<p><strong>内存墙</strong>问题。</p>
<figure>
<img src="/2023/10/09/AI_and_ML_Accelerator_Research/1696789769571.png" alt="Fig3">
<figcaption aria-hidden="true">Fig3</figcaption>
</figure>
<ul>
<li><strong>CMOS工艺和器件瓶颈</strong></li>
</ul>
<p><strong>Dennard Scaling定律</strong>已经失效，<strong>Amdahl’s
Law</strong>已经达到了极限，<strong>Moore's
Law</strong>也变得越来越难以遵循，而且成本也越来越高，特别是在功率和性能效益下降的情况下。</p>
<h2 id="ai-芯片的优化方向">AI 芯片的优化方向</h2>
<h3 id="新型计算范式">新型计算范式</h3>
<p>目前，AI芯片主要用于DNN模型的训练和推理，计算量非常大，故需从硬件友好方面考虑对算法的改进，降低计算成本。</p>
<ul>
<li><p><strong>降低数值精度的量化技术</strong></p>
<p>减少位宽，实现一个精度与硬件开销的 trade-off</p></li>
<li><p><strong>压缩网络规模、修剪网络</strong></p>
<p>在DNN计算中，有许多值是0或接近于0或重复的值，将这些值输入一个MAC进行乘积累加运算没有意义，浪费资源，因此需要压缩和剪枝。</p></li>
<li><p><strong>二值、三值神经网络</strong></p>
<p>BNN: Binary Neural Network</p>
<p>TNN: Ternary Neural Network</p></li>
<li><p><strong>增加和利用网络稀疏性</strong></p>
<p>稀疏化数据流感知</p></li>
</ul>
<h3 id="架构的设计和优化">架构的设计和优化</h3>
<ul>
<li><p><strong>CPU+GPU+DSA异构并行计算</strong></p></li>
<li><p><strong>存算感一体新架构</strong></p>
<p>有望突破冯·诺依曼架构，存内运算、近内存计算、基于新型存储器的人工神经网络、生物神经网络，等等。</p></li>
</ul>
<h3 id="电路的设计和优化">电路的设计和优化</h3>
<ul>
<li><p><strong>FPGA Overlay技术</strong></p>
<p>为了提高FPGA的开发效率、更好的利用FPGA的逻辑资源、方便FPGA的大规模部署和应用，需要将FPGA进行一定程度的逻辑抽象，使顶层用户不必太多关注于FPGA硬件逻辑的实现方式与细节。</p></li>
<li><p><strong>模数混合电路设计MAC</strong></p></li>
<li><p><strong>软件定义芯片</strong></p>
<p>可重构计算技术允许硬件架构和功能随软件变化而变化，具备处理器的灵活性和专用集成电路的高性能和低功耗，被认为是突破性的下一代集成电路技术</p>
<figure>
<img src="/2023/10/09/AI_and_ML_Accelerator_Research/1696789666625.png" alt="Fig4">
<figcaption aria-hidden="true">Fig4</figcaption>
</figure></li>
</ul>
<blockquote>
<p>2023年10月24日，按照李炎原来的说法“调查一下该方向的历史发展啊，研究现状啊”进行了pre，结果被李炎说太宽泛有点水。本来就是自己没说清楚。但是，我觉得他有句话说得对，“像是在半导体大会上做报告”，这是不是说我有做企业高管领导的潜质捏？😜</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/30/2023%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Treeby">
      <meta itemprop="description" content="La vie est belle">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amusement Park">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/30/2023%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0/" class="post-title-link" itemprop="url">2023暑期实习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-30 18:54:56" itemprop="dateCreated datePublished" datetime="2023-07-30T18:54:56+08:00">2023-07-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-26 22:17:37" itemprop="dateModified" datetime="2024-04-26T22:17:37+08:00">2024-04-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%92%E9%B8%9F%C2%B7%E7%94%9F%E6%B4%BB/" itemprop="url" rel="index"><span itemprop="name">青鸟·生活</span></a>
                </span>
            </span>

          
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="section">2023.7.31</h2>
<ul>
<li><strong>2023年7月16日11点13分，浙江绍兴，上虞南站。</strong>
兴奋、期待、忐忑……不知道应该用什么样的词语来形容我此刻的心情，这是我第一次，孤身一人，来到一座陌生的城市。公司环境会是怎样，新舍友怎么样，同事们怎么样，工作究竟会不会做……无数的想法充斥着我的脑海里，但是这是一次全新的体验，因为这意味着第一次走出学校，走进社会。
在火车站等公交车等了半小时竟然都等不到一辆，我只好打车来到中芯集成，并在一番折腾后终于拖着重重的箱子，满头大汗并忐忑地敲开了新宿舍的门。
<strong>“hi~，我是你们的新舍友。”</strong></li>
<li>我的三个新舍友都是研二的学生，也是暑假来实习的。由于他们都比我大了好几岁，并且我本身就比较内向与社恐，刚开始跟他们交流的时候就显得有点胆怯（可能不止一点），尽管他们都非常的友善。当他们惊叹于我大二就来实习的时候并且是fdu的学生时，我连忙摇头摆手说自己很菜。我从小到大都是这样，过于内敛，害怕被人夸赞，但实际上虽然谦虚是好事，可是有时候就应该大方自信一点。反思过后，我认为再来一次的话应该要这样子回答：
<em>Q:大二就来实习了吗？</em> <em>A:对，早点来实习长长见识！
</em>Q:你是fdu的啊？牛逼<em>
</em>A:哈哈哈还行吧，以后还得向你们多多请教呢！*</li>
<li>我被安排到的部门是 <em>Technique &amp; Marketing Centre - Design
Enablement - Spice Model - HV/Anolog SPICE</em>，职位是
<em>HVS</em>。带我的周扬师兄，以及其他所有同事都很热情友善，整个小组氛围也很好。但可能还是因为年龄差的原因，并且我觉得我没有一点工作经验以及对于能否做好实习的工作缺少底气，我和同事们交流的时候还是放不开，不太自然（自己听自己的声音都能明显感觉得到）。唉，树安，下次自信一点，展示一下fdu高材生魅力，how
say！</li>
<li>第一个星期还没配好电脑，于是自己看了看书，复习了一下半物和模电，在b站上学了点强化学习；第二个星期终于等来了电脑，但是周扬师兄让我先看下培训资料，讲的是一些器件原理，仿真、测试原理和流程，公司的工艺平台，等等，还是学到不少东西。</li>
<li>星期五晚上和同事们一起出去吃顿海鲜自助餐😋😆
<strong>明天，八月！</strong></li>
</ul>
<h2 id="section-1">2023.8.6</h2>
<ul>
<li>上一周学会了如何用hspice仿真电路，学会了看懂一点点网表并且尝试自己写了一下（其实不知道对不对），学会了看版图，学会了Resistance
Extraction的流程。In my
opinion，写网表和绘版图还是有点技术含量的，但是学会用excel绘图也还是有用的（还没学，下周研究下）。其实有很多测试的原理也没有完全搞懂，但是其实不是很重要，因为这里的很多工作都是非常完善的，无需从原理研究起来，并且来实习也不是为了学原理和技术。</li>
<li>对于待人接物（对于陌生人和一些不是很熟很交心的朋友）的方式又有了深刻的体会：首先要自信，这意味着，气场要强大，有自己独立思考的能力，有自己的想法，不能显露出自己的情绪，要时刻保持冷静和理性；其次是尊重别人，微笑，gentleman。</li>
<li>据我猜测，在这个岗位上的正式员工，应该是一两万一个月左右，工作不会很多，压力不会很大，有一定的技术含量，这样一个年能有个二十来万。实习摸鱼的时候，我在思考这样的问题，假设以后毕业出来打工，一年能有五十万，虽然确实已经挺好了，但还是无法十年内全款买房。怎么样，才能实现真正的跨越？我目前想到的只有以下三种方向：<strong>创业/从工程师到高管/投资</strong>（当然应该在有稳定的较好的工作的基础之上）。前两种的一个前提是，技术本身要够硬，专业知识够强；前两者都要具备创新能力，并且创业更需要创新。第二种则需要很好的管理能力。创业难度大，风险高，需要技术与机遇，综合考虑人脉、市场等因素；而成为企业高管，需要提升自己全方位能力。投资暂未了解。</li>
<li>ok，上面一段都是瞎jb讲的。</li>
<li>今天是tfboys十周年之约，虽然我也不完全算是四叶草，但是我感觉他们（无论是团体还是个人）确实都有很多很好听的歌，并且有些歌真的让人充满能量（比如样YOUNG）。十年之前，我也没想到十年之后是怎么样的，我现在也无法设想十年之后，这个世界，身边的人，自己，还有tfboys，都会变成怎么样。</li>
</ul>
<h2 id="section-2">2023.8.11</h2>
<p>实习终于结束了！明天就回家了！前两天写了篇实习报告给赵总看，听说还被赵总传阅了，树安你是有点东西的。</p>
<h2 id="实习报告">实习报告</h2>
<h3 id="实习记录">实习记录</h3>
<ul>
<li>2023年7月18日，我来到了绍兴中芯集成电路制造股份有限公司，开启了我人生中的第一次实习。</li>
<li>7月18日是实习报道日，办理入职手续和参加新员工培训，培训内容包括对公司介绍、总务情况、消防安全等等。</li>
<li>7月19日，我来到我的工作岗位上正式开始我的实习之旅。我的部门是
Technology &amp; Marketing Center - Design Enablement - SPICE Modeling -
HV/Analog SPICE，岗位是 HVS，即负责器件的 SPICE
测试，仿真与建模。一开始还没有申请到电脑，于是我看了两三天书，复习了一下半导体器件原理，听了一些培训讲座。</li>
<li>7月25日申请到电脑后，看了几天公司内部的培训资料，ppt，平台手册等，了解了整个岗位的基本任务和操作。</li>
<li>7月28日，给电脑安装好工作需要用到的软件后，终于可以开始动手操作，边做边学，如用
Hspice 仿真，进行 Resistor 参数的抽取建模，等等。</li>
<li>实习期间，还到实验室观摩了带教师兄进行WAT测试，亲眼看到了晶圆的样子。每周开例会我也都参与了，深入理解了我们SPICE
MODEL组，甚至可以说是整个公司的工作，皆是以客户需求为核心，以市场为导向。</li>
</ul>
<h3 id="实习收获">实习收获</h3>
<ol type="1">
<li>扎实的学科基础是做好实习工作的前提条件。比如，进行WAT测试，当然得先知道要进行测试的电学特性都有哪些，并且需要非常熟悉各种半导体器件(如MOS，BIT，Diode等)的基本原理，这样在进行分析与测试时才能熟练地运用上去。这些知识都是在学校里习得的，也就是说专业知识一定要扎实，并且沉淀为自身的“常识”。</li>
<li>但实习时仅靠在学校里学过的知识是远远不够的，因为工作是一种对知识的运用，并且还会涉及许许多多没有学过的知识。这也是为什么公司要对新员工进行入职的培训。但是工作中会遇到非常多的问题，单靠培训获得的知识也是难以
handle
的，这就需要在整个工作中都要具备汲取新知识的能力，边做边学，学以致用。</li>
<li>实习第一天，我对于做些什么，为什么要这样做，应该怎么做，没有一点概念。但慢慢的，我逐渐搞明白了这三个问题。从逆向的逻辑来看：我们要做的是SPICE
Model的仿真与建模，因为这是芯片设计到物理实现的重要桥梁：芯片设计好后进行物理实现要用到的元器件等，由PDK工具包来提供，而产生PDK前的关键步骤就是进行SPICE
Modeling，包括器件的有关方程与参数。那么我们该如何完成这项工作呢？这就需要获得两部分数据：理想的
target 与实测的
value，然后再进行数据分析、拟合并建模。这让我明白了，无论是实习工作，还是处理其他的事情，都需要搞清楚，what,
why, how。</li>
<li>Communication &amp;
Corporation。小组内部每周会开一次例会，总结上周工作，提出一些新问题，并布置下周任务；平时同事们也经常探讨问题，发邮件、发信息、打电话联系其他部门的同事，以更好地进行团队合作与工作上的协调。Partnership，是公司文化中四大理念之首，这也是我这段实习中感觉最有收获的地方。因为我一直以来都不太擅长与人沟通，甚至害怕跟陌生人交流。而这次实习给了我一个改变自己的机会，慢慢走出我的
comfort
zone，去认识新同事，去向比我年纪大、经验丰富的前辈请教。总之，我明白了待人接物除了要谦虚礼貌外，更要充满自信。当然我还需要更多地锻炼，学习如何更有效地与人沟通交流，进一步学习如何管理好一个团队。</li>
<li>当然，在整个实习和培训过程中还学习了许多学术上的知识和技能（详见实习笔记部分）：
<ul>
<li>对半导体整个产业链、芯片设计制造封装整个流程，有了更深的认识；</li>
<li>深入了解了公司的Smec BCD_Platform, 体验了实验室 WAT 测试过程
，学会了使用hspic进行仿真，KLayout查看版图；</li>
<li>基本 Device 的电学性能与测试原理，网表、版图的基础知识；</li>
<li>许许多多的集成电路英文专有名词。</li>
</ul></li>
</ol>
<h3 id="实习感想">实习感想</h3>
<ol type="1">
<li>人生中第一次到大厂实习，真的非常开心。特别是当我拿到工牌、坐上属于自己工位的那一刻，顿时感到自身价值倍增。</li>
<li>这次实习见识到了一个大公司究竟是怎么样的：首先在部门设计上，大概分为
TMC, Supporting Center,
运营中心，等等，分工明确，各司其职，并且内部还分为多个级别，并有相对应的主管；其次是OA系统，支撑着各种事务的正常运作；然后是部门之间的沟通方式多渠道，电脑端
Skype for Business 即使通讯，Outlook
邮件联系，手机端企业微信，还有平时在部门里面能用座机打电话联络，这些都使得一个拥有5000多名员工的大公司内部能够进行正常有效便捷的交流；而最令我印象深刻的是，公司的保密、信息安全工作做得相当严格，个人的笔记本、平板电脑都不能带进工作区域。总而言之，来到国际大公司、大厂上班给我带来的感觉还是相当的震撼。</li>
<li>公司的饭堂算是比较实惠，菜的品种也较为丰富，价格与复旦饭堂差不多，口味也相当不错。宿舍环境超好，四人间比复旦的宽敞多了，还有独立卫浴，干净舒适，唯一的缺点是没有热水饮用。公司的其他硬件设施也非常完备，但是在环境方面，每到傍晚六点多左右，厂房排出来的废气带着一些异味，空气质量下降，感觉再吸多几个星期会少活那么个几年。</li>
<li>新人入职培养方面，公司的培训计划与一对一的老带新制度可谓是非常完善和周到，能让新员工快速入门与适应工作。但我觉得培训时间还是太长了点，坐我旁边的一位老哥是新来的应届毕业生，入职一个月了还没什么事情做，还在培训阶段，看各种资料。其实我觉得这个岗位的话一两个星期基本上就能掌握一些核心的原理与操作了，很快就能上手干活，其它的完全可以边做边学。</li>
<li>在实习中发生了一件让我比较难受的事情。办理离职申请手续需要经过比较多的审核，整个流程很长比较慢，这很正常。但是如果它卡在了一个节点三四天不动，就让人很难受。8月4号13:02:19到信息安全中心进行审核，8月7日下午17:00还没审核完。于是我联系了对应负责人询问情况，问他是否可以快一点，他答应帮我催促一下。第二天早上9点半，审核还是卡在那里一动不动，于是我又在
Skype for business
上发消息给负责人，想问一下审核进行得怎么样。最让人气愤的是，这名负责人状态是在线at
work，但是并没有回复消息。我又发了好几条信息恳求他能否帮忙催促一下，并且提出希望他看到信息可以回复一下，结果还是没有答复。我在企业微信和Outlook上联系他依旧不回。我还真不信他这么忙没有看到消息，于是我在OA系统上找到他的主管，和他说明了情况，请他帮忙联系一下。幸运的是那名主管人比较好，立刻在企业微信里面把我们三人拉了个群，并且
@
那名负责人，那人立刻出现回复说好，并在不到三十分钟内就完成了审核。这很明显就是那人拖着不去审核，明明几十分钟就能完成的事情拖了好几天，办事效率极其低下，如果不是找到主管督促都不知道还要拖几天；关键是态度极差，之前答应说帮忙催促显然就是敷衍，而且看到消息不回素质非常差；这可能也是公司比较大的缘故吧，监管不到位，导致总会有人做事拖拖拉拉的，一定程度上降低了整个公司的办事效率。</li>
</ol>
<h3 id="总结">总结</h3>
<p>总之，非常感激这段实习经历，给我带来的学习上、能力上、生活上的各种收获，得到一次从未有过的人生体验。衷心感谢师兄赵奇总经理给予这样一次提升自我的机会！祝愿中芯集成越做越好！</p>
<h3 id="附实习笔记">附：实习笔记</h3>
<h4 id="pdk">PDK</h4>
<ul>
<li>PDK(Process Design kit) is the bridge between foudary and Design
house</li>
<li>PDK = SPICE MODEL + Pcell(Parameterized Cell Library) + Layout
Designs + RC/PEX(parastic Resistance and Capacitance extraction)</li>
</ul>
<h4 id="spice-model">SPICE Model</h4>
<ol type="1">
<li>SPICE Modeling flow: Testkey Designs(BaseTK(DC数据), ROTK,
AC-Cox/CGC TK) -&gt; T/O and Production -&gt; Measurement(WAT) -&gt;
Curve Fitting -&gt; On-target Fitting(LDE Fitting, flicker(1/f) noise
fitting, mismatch Fitting, corner Fitting) -&gt; Statistic Fitting -&gt;
Model Document -&gt; Model release</li>
<li>SPICE Mdodel content: a series of equation + corresponded parameters
eg. MOS model equation + MOS model card</li>
</ol>
<h5 id="watwafer-acceptance-test-or-e-test">WAT(Wafer Acceptance Test or
E-Test)</h5>
<ol type="1">
<li>Inline WAT（后段工艺）or Final WAT（全部工艺完成）</li>
<li>测量的是：DUT(Device under Test) Active Device: MOS BJT Diode
Passive Device: RS RC Capacitor Process: Isolation Bridge</li>
<li>the relationship among WAT, SPICE Model, PDK: TS Device provide
golden wafer -&gt; Spice Testing(WAT) -&gt; Spcie Modeling -&gt;
Generate PDK -&gt; CTM IP design in (pre/post-simulation)</li>
<li>测试程式：WAT CIM系统 （Test + Prober） Tester: tst(Test condition),
lim(Spec), waf(Site location), die(Test key location), prb(PIC to
Channel Mapping) Prober: Probe Card Alignment, Wafer Alignment</li>
<li>测试结构和参数 Resistor: RS(Rs Rskv), RC(Rc Rckv) Capacitor:Cap(MIM
MOM Varactor), Ileak, Vbd Inductor, Contimuity, Bridge,
Isolation(介质隔离, LOCOS隔离, STI, Guard Ring, DNWring, Sealring)
Diode: Cg, Leak BJT: Vbe β Vce Mosfet: Vt Id Ioff Bvds Swing Cgg Cgc Cgs
DIBL Vhg Rout .etc Cmos: Vtc Ring Oscillator: Freq SRAM: IDDQ SNM WM
Iread Iwrite</li>
<li>先进测试工艺 Array-based Test Structure, share pads among DUTs</li>
<li>DUT
<ul>
<li>Resistance: RS(Resistance Square): to monitor metal/dielectric film
resistance Film type: Metal(interconection), AA(N+, P+, Salicide),
Poly(N, P, Salicide), Well, STI Rm=V/I=(ρ/T)<em>(L/W),
Rs=ρ/T=Rm</em>(L/W) (T:thickness, Rs is for 2-terminal, Rskv is for
Kelvin Structure) RC: to monitor the contact/via with the under
layer</li>
<li>Capacitor: Cap@ 100kHz, 45mV, VH=0V, VL=0V, Cap=Cap*(1e+15)/Area
Vbd: Search Vh from 0 to 15V @ Ih=4e-8A, H= sweep V, L= GND Ileak: Ilk@
Vh=Vdd</li>
<li>Continuity: to verify a continuous path in the circuit, if a
variance of Rs in the layer or the pattern is open, it can be
detected</li>
<li>Bridge: a bridge means a short between two patterns in the same
layer due to an isolation defect(Errors during the mask or etch
step)</li>
<li>Diode: DC current-Voltage characterisic</li>
<li>BJT: DC, AC caracteristic</li>
<li>SRAM</li>
<li>CMOS: DC current-Voltage characterisic, VTC 曲线偏移</li>
<li>Ring Oscillator: Frequence, 即时钟频率</li>
<li>MOSFET: DC characteristic: 转移特性，id-Vds Backup Materials:
DIBL(Drain insuced barrier lower), Vtsb(Vt @ saturation region wi Body
effect), Swing, IDVG, Jginv, GIDL(gate induced drain leak), Idlin, Ioff,
Rout, BVDS(击穿电压), Isub(热电子引起基底电流) AC characteristic: cgc,
cgb, cgg, 寄生电容等</li>
</ul></li>
</ol>
<h5 id="corner">Corner</h5>
<ol type="1">
<li>芯片延迟由 PVT(Process, Voltage, Temperature) 影响</li>
<li>Process corner 工艺角，包括：
<ul>
<li>global variation 全局工艺偏差，同一器件在不同芯片上的误差</li>
<li>local variation
局部工艺偏差，同一器件在同一芯片上不同区域的误差</li>
</ul></li>
<li>global variation: tt(typical nmos and typical pmos), ff, ss, sf, fs
（s 代表 slow，电流小；f 代表 fast）</li>
<li>Corner 仿真实现：STA(Static Timing Analysis)</li>
<li>Monte Carlo 仿真：在容差内随机运算几千次或更多 <img src="/2023/07/30/2023%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0/蒙特卡洛与corner.jpg" alt="蒙特卡洛与corner"></li>
</ol>
<h5 id="hspice-仿真">Hspice 仿真</h5>
<ol type="1">
<li>是一个电路仿真eda软件，以网表为输入</li>
<li>网表编写（.sp文件）
<ol type="1">
<li>包括元器件描述语句，输入控制语句，输出控制语句等
<ul>
<li>.DATA</li>
<li>.DEL LIB</li>
<li>.INCUDE</li>
<li>.IC .NODESET</li>
<li>.LIB</li>
<li>.MODEL</li>
<li>.OP</li>
<li>.OPTION</li>
<li>.PARAM</li>
<li>.TEMP</li>
<li>.TF</li>
<li>.TRAN .DC .AC</li>
<li>.PRINT .PLOT .GRAPH .PROBE .MEASURE</li>
<li>.end</li>
</ul></li>
<li>例如 M1 ADDR STG1 GND SBS N1 10u 100u
规定了一个名字为M1的MOSFET，漏极、门极、源极、衬底的节点分别命名为ADDR
STG1 GND SBS，参考名为N1的Model，width=10μ吗，length=100μm</li>
<li>.LIB表示库，连接到.lib文件中，网表里的一些元器件需要从里面找对应的model</li>
<li>文件结尾为.end</li>
<li>.TRAN .DC .AC 分别为瞬态，直流，交流分析</li>
<li>.PARAM 为定义各种参数，可理解为define</li>
<li>.OPTION设置条件</li>
<li>等等 网表编写可认为是一门语言，需要细细研究</li>
</ol></li>
<li><strong>SPICE 测试后得到数据，进行 SPICE
建模，完成后得到器件所有参数，即可打包成一个文档，以库(.lib)和参考模型(.model)的方式提供给所需网表(.sp)供hspice进行仿真</strong></li>
</ol>
<h4 id="resistance-extraction">Resistance Extraction</h4>
<ol type="1">
<li>parameters:
<ul>
<li>Rsh: sheet resistance</li>
<li>DW, DL: Delta width and length</li>
<li>TC1R, TC2R: temperature coefficient</li>
<li>RVC0, RVC1, RVC2: Voltage coefficient</li>
<li>JC1A, JC1B, JC2A, JC2B: Current density coefficient</li>
<li>COX, CFOX, CWAPSW, CLOUP: interconnect parastic capacitor</li>
</ul></li>
<li>equations:
<ul>
<li>R=R0<em>k1</em>k2</li>
<li>R0=Rsh*(L-2DL)/(W-2DW)</li>
<li>k1=1.5-1/(2+RVC<em>V</em>V), when k1 &gt; 1
0.5+1/(2+RVC<em>V</em>V), when k1 &lt; 1
RVC=(RVC0+RVC1<em>W+RVC2</em>L/W)/(L-2<em>DL)/(L-2</em>DL)</li>
<li>K2=R0<em>(TC2R</em>DT<em>DT+TC1R</em>DT+1) DT=T-T(25°C)</li>
</ul></li>
<li>extractions:
<ul>
<li>examine R @ V=0.1V, T=25°C, then optimize, get Rsh, DL, DW</li>
<li>examine R @ T=25°C, sweep Voltage, get RVC0, RVC1, RVC2</li>
<li>examine R @ V=0.1V, sweep Temperature, get TC1R, TC2R</li>
<li>mismatch extraction</li>
<li>corner extraction</li>
<li>parasitics capacitor extraction</li>
</ul></li>
<li>model: .lib .sucket</li>
</ol>
<h4 id="layout-designs">Layout Designs</h4>
<ol type="1">
<li>版图将电路映射到硅片，是电路功能和性能的物理实现</li>
<li>包括基本元器件版图设计，模块设计-&gt;芯片规划-&gt;布局布线，版图检验分析(DRC(design
Rules Check), LVS(Layout Versus Schematic), 电学可靠性检查(ERC,
ESD))</li>
<li>绘图层
<ul>
<li>N well</li>
<li>Active: 有源层，需要进行场氧(Oxide)</li>
<li>Poly: 多晶硅栅层，互连，生成电阻等</li>
<li>P select, N select: 注入离子，与有源层形成扩散区</li>
<li>Contact: 接触孔层，存在一定阻值，用于连接金属层与目标层</li>
<li>Via: 通孔层</li>
<li>Metal: 金属层，互连</li>
<li>Text: 文字标注层</li>
<li>Pad: 焊盘层，提供芯片内部信号到封装接脚的连接</li>
</ul></li>
</ol>
<h4 id="smec-bcd-platform">SMEC BCD Platform</h4>
<ol type="1">
<li>工艺平台，high density, high power, high voltage features:
完整的BCD技术，高附加值器件，高车规模质量，专业的设计支持</li>
<li>IPS: 标准BCD工艺/器件 + 嵌入式特色工艺/器件(Vertical) 180 BCD
eflash: 标准BCD工艺/器件 + ESFI(3 more masks) BCD-SOI:
使用SOI(Silicon-On-Insulator) Substrate(一种工艺) HVIC: 高压(hig
voltage)集成电路</li>
<li>PDK &amp; IP for Industrial and Automotive
<ul>
<li>SPICE MODEL: environment temperature range for modeling, Mos Aging
Model for Simulation</li>
<li>PDK: DRC &amp; Pcell, EM</li>
<li>IP: Reliability, Functional, Safety</li>
<li>Quality: QMS of FTP R&amp;D organization, Quality Manual of QMS for
R&amp;V organization</li>
<li>Readiness: Indurial, Automotive G0/G1</li>
</ul></li>
<li>180nm BCD 40V SPICE
<ul>
<li>SPICE Model: Spectre/Hspice/ACPS(即所支持的建模eda工具)</li>
<li>PDK: Cadence OA PDK</li>
<li>IP: Standard Cell library, GPIO, Memory Compiler, e-fuse, MTP, OTP,
e-flash</li>
</ul></li>
<li>document example
<ul>
<li>Title: 0.18μm HVIC 120V platform introduction and charater design
mannual</li>
<li>Purpose: this design mannual defines...</li>
<li>Scope</li>
<li>Nomenclature</li>
<li>Reference</li>
<li>Responsibility</li>
<li>Subject Content
<ul>
<li>Introduction: Document Overview, Process Overciew, Supported
potentials, Device Size Setting in Model &amp; PDK, Effect in Spice
Model</li>
<li>Device Characterization Summary: Device description, Operation
voltage range, Device symbol, layout, Cross section, Spice data vs PCM
spec</li>
</ul></li>
<li>CMOS, HVMOS(DEMOS, LDMOS, DMOS(VDMOS, DDDMOS)), BJT, Diode,
Resistor(DIFF, POLY, NW, Metal), ESD Diode/BJT, Capacitor(MIM, MOM,
Varactor), IGBT(MOSFET + PNP, VDMOS + PN junction), .etc</li>
</ul></li>
</ol>
<h4 id="半导体行业情况">半导体行业情况</h4>
<h5 id="半导体产业链全景">半导体产业链全景</h5>
<figure>
<img src="/2023/07/30/2023%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0/半导体产业链全景.png" alt="半导体产业链全景">
<figcaption aria-hidden="true">半导体产业链全景</figcaption>
</figure>
<h5 id="半导体产业模式">半导体产业模式</h5>
<ul>
<li>IDM(Integrated Device Manufacture): Sumsung, Intel</li>
<li>Fabless: 海思, 联发科</li>
<li>Foundry: SMIC, 日月光</li>
</ul>
<h5 id="半导体product市值">半导体PRODUCT市值</h5>
<p>半导体产品（$4688亿）包括 集成电路（$3933亿）+
O-S-D（$755亿），其中，集成电路 包括 模拟电路（$588亿）+
数字电路（$3345亿）</p>
<h5 id="ic-products">IC Products</h5>
<ol type="1">
<li>Memory:
<ul>
<li>voliatile(易失性): SRAM(LPSRAM, HS SRAM, eSRAM), DRAM(FP/EDO,
SDRAM), DDR(Rmbus, eDRAM)</li>
<li>non-voliatile: Flash, EPROM/EEROM, MaskROM, MRAM, embedded(Smart
Card, National ID)</li>
</ul></li>
<li>Logic:
<ul>
<li>computing: CPU, MPU, DSP, DPU, Chipset, Graphics, Peripheral, Mem
controller</li>
<li>consumer: PDA, GPS, MPEG, DVD/VCD, FPGA, Voice synthesis</li>
<li>Automotive: MCU, Sensor</li>
</ul></li>
<li>Mixual signal:
<ul>
<li>computing: audio processor</li>
<li>communiting: Switching, Sonet, phone, fax, LAN, Router, Bluetooth,
Cellular(GPS, CDMA), Modern(xDSL, Cable)</li>
</ul></li>
<li>Photo Electronics:
<ul>
<li>Image Sensor: CCD, CMOS</li>
<li>Display: LCD driver, LCD controller, μ-Display</li>
<li>Security: Touch chip</li>
</ul></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/30/2023%E6%98%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Treeby">
      <meta itemprop="description" content="La vie est belle">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amusement Park">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/30/2023%E6%98%A5/" class="post-title-link" itemprop="url">2023春</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-06-30 20:17:03" itemprop="dateCreated datePublished" datetime="2023-06-30T20:17:03+08:00">2023-06-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-26 22:17:32" itemprop="dateModified" datetime="2024-04-26T22:17:32+08:00">2024-04-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%92%E9%B8%9F%C2%B7%E7%94%9F%E6%B4%BB/" itemprop="url" rel="index"><span itemprop="name">青鸟·生活</span></a>
                </span>
            </span>

          
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言">前言</h2>
<p>树洞上说今天是教务处出分ddl，信号与系统概论的成绩也确实在今天出了，大二生活在这一刻终于画上了句号。这可能是两年来令我最难以忘怀的一个学期，因为它带给我极大的痛苦，但却是最有意义的。</p>
<h2 id="学习">学习</h2>
<p><strong><em>彼方尚有荣光在</em></strong></p>
<p>本来以为这学期绩点会大寄的，因为我三个月来根本没有一个时刻有在认真学习，每天都因为某些事emo，但幸好在期末季时三教再现女娲补天，速通四门专业课，最后发现结果好像并没有那么的糟糕。请原谅我不厚道地在这里稍微装一下杯（大佬请跳过
&amp;&amp;
有些得了b+的课没放出来其实）：<strong>（手动tag：引起不适）</strong>
<img src="/2023/06/30/2023%E6%98%A5/1688109417357.png" alt="1688131543947">
锐评一下这学期的四门专业课：</p>
<ul>
<li><strong>信号与系统概论</strong>（A-）：本质在学数学，但是老师课上却在讲哲学。。。考前划重点就差把题目放出来了，虽然减轻了复习负担，但是改卷不就更加严格了吗？还有就是题目出得是真的不太严谨，比如填空题第四题明明就没写f(t)是实函数，又怎么能有X(-w)=X(w)，R(-w)=-R(w)呢？（和助教说了但感觉助教最后还是没给我分😭）</li>
<li><strong>半导体物理</strong>（A）：传说中的翻转教学。本来应该在课堂上获取知识，变成了完完全全靠自己课下自习。或许其本意是帮助我们能够更加深刻的理解知识，毕竟自己学会跟能够把知识讲出来是不一样的，但是这门又难又基础的课，自学起来真的非常非常吃力。期末考的卷子也不好评价，考的感觉好多都没学过，做题时一堆不确定的，不过老师和助教都很好，浅浅捞了一把。</li>
<li><strong>计算机软件基础</strong>（A）：我觉得课的内容真心挺好的，学会了基本的Linux与数据结构，就是卷子出的太简单了（期末和期中都是半个小时就做完了），然后给分强行正态。。。但是获得了赵大爷的握手😂</li>
<li><strong>嵌入式处理器与芯片系统设计</strong>（A）：处理器的前世今生，基本的流水线设计，分支预测，页表和缓存，I/O管理，等等，其实课上和ppt都讲得十分清楚，理论课10分能打9分，确实学到了很多东西；实验课的话说实话不太行，特别是每次做实验之前都没有讲清楚实验原理，然后就有一堆的bug，并且很多实验都是机械的重复同一个操作（十分无语且崩溃）；另外期末考真的是太tm难了！！！</li>
</ul>
<p>学微电子真的是啥都要学，确实会让人感慨“微电子🐶不学”。但实际上，我觉得其实很多课都能够考前速通，除了数学。只有数学好的人才是真的强，真的很佩服数学好的人啊！（比如棍、隽立和俊宇）</p>
<h2 id="感情">感情</h2>
<p><strong><em>我堕入情网你却在网外看</em></strong></p>
<p>这学期喜欢上了一个不喜欢我的女生，这也是我这学期痛苦的来源。</p>
<p>我们是在一次我认为很巧合的情况下认识的，并且相处得十分愉快。佛说，五百次回眸，才换来今生一次擦肩而过。我觉得我们的相遇真的十分的有缘，并且内心在告诉我，树安你就是喜欢她。于是之后我经常主动找她聊天。她的回复也挺热情的，看上去也有聊天的欲望。
后来她主动约我去看十大复赛的音乐节，这是我们第二次见面。由于音乐节有点无聊，于是我们在南区里边走边聊。可能因为是e人，她话说得比较多，我反而表现得比较收敛。她非常爱笑，笑起来真的非常的好看，给人带来快乐。之后接下来几天的线上聊天，我们聊得都还算比较好。
我想继续约她出来玩，但人家好像真的很忙，我约了几次都没有成功。在这之后，聊天都是我在主动，她的回复感觉远没有之前热情了。这时按道理应该及时止损，但当时恋爱脑的我，一边处于“她是不是其实不喜欢我”的深深内耗中，一边却依旧抱有一丝的希望。第三次见面，也是最后一次见面，是我约的她出去吃饭。虽然聊了两小时没停下来，但我知道，我们之间已经不可能了。回去之后，由于一些原因，我们就闹僵了。</p>
<p>上面的故事或许说得有点轻描淡写，但实际上三个月来，可以用crazy来形容我，恋爱脑的内耗或许只有亲身体会才知道有多么痛苦，每天都在猜测对方的心意，分析她回复的每一句话的情感。现在回过头来看，或许别人从一开始仅仅就只是想交个朋友而已，只是我自己比较上头，属于是有点小丑了。</p>
<p><strong>但是爱而不得那不是人生常事吗？</strong></p>
<h2 id="有意思的东西">有意思的东西</h2>
<p><strong><em>抬头就有一片星光</em></strong></p>
<ul>
<li>狠狠体会了一把在图书馆被恰v是什么感觉😎 <img src="/2023/06/30/2023%E6%98%A5/1688108763378.png" alt="1688108763378"></li>
<li>狠狠体会了一把以一种奇怪的方式被挂树洞😰（真的有难酮！） <img src="/2023/06/30/2023%E6%98%A5/image.png" alt="Alt text"></li>
</ul>
<h2 id="友情与致谢">友情与致谢</h2>
<p><strong><em>人生如路，朋友如雾。难得知心，几经风暴，为着我不退半步，正是你。</em></strong></p>
<p>我不敢想象，如果这学期没有了好朋友的支持与鼓励，该变得多么的糟糕！</p>
<ul>
<li>First of
all，真的非常非常非常地感谢隽立，在我每次（其实是每天）都快要崩溃的时候，拯救了我；每当遇到想不懂的事，想不通的问题，都能给我码顺；也是隽立给了我期末季补天的无限动力——人生在世，又能有多少知己？所以能有清华✌做好兄弟，真的是上辈子修来的福气。
<img src="/2023/06/30/2023%E6%98%A5/1688108889614.png" alt="1688108889614"></li>
<li>还有天宝，在我心情不好的时候陪我唱k、喝酒(虽然我喝不了一点)，让我感受到，我在复旦其实不是一个人；天宝唱功也越来越强了（都快赶上我了😋），我愿称之为我旦华晨宇。数院大神俊宇，以及杰哥和棍他们，每天都在提醒我要学习，但是现在我的数学跟他们差距真的很大，暑假真的要好好沉淀。</li>
<li>当然少不了大一的3位舍友，这里特别点名准“莙政学者”zh到了<strong>阿美莉卡</strong>之后“苟富贵，毋相忘”。还有微电的朋友们也给了我很多学习和生活上的帮助，他们每个人都真的是又强又有趣，真的很幸运能有如此优秀的同学。</li>
<li>还有很多很多的friends……</li>
</ul>
<h2 id="总结">总结</h2>
<p><strong><em>明天你好，我只能奔跑</em></strong></p>
<p>说实话，大学两年了，我发现自己好像真的没做出什么成绩来。特别是这学期挫败感尤为地强烈：集创赛没进分赛区决赛，喜欢的女生不喜欢我，大二都结束了才刚刚开始接触科研……绩点似乎能够聊以自慰，但也有好多好多人绩点比我高，并且我感觉拿A也只是意味着考试考得好罢了，代表不了什么。所以我常常自我怀疑，是不是自己真的没有什么独特之处？自己真的适合学微电子吗？</p>
<p>可能确实是这样的，我也确确实实只是个极其普通的人罢了。我现在只希望，能做自己喜欢做的事，能够实现一些小小的愿望，然后好好过完这一生。</p>
<p>明天你好，七月你好。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/28/Life/My-New-Post/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Treeby">
      <meta itemprop="description" content="La vie est belle">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amusement Park">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/28/Life/My-New-Post/" class="post-title-link" itemprop="url">My New Post</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-06-28 13:24:39" itemprop="dateCreated datePublished" datetime="2023-06-28T13:24:39+08:00">2023-06-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-06-30 11:00:07" itemprop="dateModified" datetime="2023-06-30T11:00:07+08:00">2023-06-30</time>
              </span>

          
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这是我的第一篇blog</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/28/Life/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Treeby">
      <meta itemprop="description" content="La vie est belle">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Amusement Park">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/28/Life/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-06-28 12:28:07" itemprop="dateCreated datePublished" datetime="2023-06-28T12:28:07+08:00">2023-06-28</time>
            </span>

          
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Treeby"
      src="/images/author.jpg">
  <p class="site-author-name" itemprop="name">Treeby</p>
  <div class="site-description" itemprop="description">La vie est belle</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/satreeby" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;satreeby" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:satreeby@gmail.com" title="E-Mail → mailto:satreeby@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      friendly link
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://zeonlap.github.io/" title="https:&#x2F;&#x2F;zeonlap.github.io&#x2F;" rel="noopener" target="_blank">LTNS</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2023 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Treeby</span>
</div><div>
<!--添加网站运行时间-->
<span>小破站已经在风雨中度过了</span>
<span id="timeDate">载入天数...</span>
<span id="times">载入时分秒...</span>
<script>
    function createtime() {
        const startTime = '06/28/2023 20:13:14',
            start = new Date(startTime)
        let mill = new Date() - start,
            seconds = Math.floor(mill / 1000),
            mins = Math.floor(seconds / 60),
            hours = Math.floor(mins / 60),
            days = Math.floor(hours / 24)
        const time = {
            seconds: seconds - mins * 60,
            mins: mins - hours * 60,
            hours: hours - days * 24,
        }
        for (const k in time) {
            time[k] = `${time[k]}`.padStart(2, '0')
        }
        document.getElementById("timeDate").innerHTML = ` ${days} 天`
        document.getElementById("times").innerHTML = ` ${time.hours} 小时 ${time.mins} 分 ${time.seconds} 秒`
    }
    setInterval(createtime, 500)
</script>
</div>
<script color="0,0,255" opacity="0.5" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>

        








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'http://example.com/default-index/',]
      });
      });
  </script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '6zRY3CX7EmWrElP42NGxNKsd-gzGzoHsz',
      appKey     : '1v8aaMV8PG0GgDS8Sqwnt9EM',
      placeholder: "帅呆啦！",
      avatar     : 'monsterid',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
